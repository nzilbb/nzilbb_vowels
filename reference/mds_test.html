<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Test optimal number of MDS dimensions. — mds_test • nzilbb.vowels</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Test optimal number of MDS dimensions. — mds_test"><meta name="description" content=" Generate bootstrapped confidence intervals and permutation based null
distribution for MDS analysis. Output shows how much stress is reduced by
adding an additional dimension to the MDS analysis of dissimilarity_matrix,
and bootstrapped iterations of dissimilarity_matrix,
compared with the stress reduction expected from a matrix with no meaningful
structure. This function is inspired by pca_test(), but is less connected
with statistical literature than that function. We currently reject
additional dimensions is they reduce less stress than we would expect by
chance. That is, when the distribution from the boostrapped analyses sits
notably lower than the permuted distribution when plotted by plot_mds_test()"><meta property="og:description" content=" Generate bootstrapped confidence intervals and permutation based null
distribution for MDS analysis. Output shows how much stress is reduced by
adding an additional dimension to the MDS analysis of dissimilarity_matrix,
and bootstrapped iterations of dissimilarity_matrix,
compared with the stress reduction expected from a matrix with no meaningful
structure. This function is inspired by pca_test(), but is less connected
with statistical literature than that function. We currently reject
additional dimensions is they reduce less stress than we would expect by
chance. That is, when the distribution from the boostrapped analyses sits
notably lower than the permuted distribution when plotted by plot_mds_test()"><meta property="og:image" content="https://nzilbb.github.io/nzilbb_vowels/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nzilbb.vowels</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Model-to-PCA-workflow.html">Model-to-PCA workflow</a></li>
    <li><a class="dropdown-item" href="../articles/Rotation.html">PCA and Rotation</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://joshua.wilsonblack.nz/posts/nzilbb-vowels-0-3-1/">nzilbb.vowels 0.3.1</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nzilbb/nzilbb_vowels/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Test optimal number of MDS dimensions.</h1>
      <small class="dont-index">Source: <a href="https://github.com/nzilbb/nzilbb_vowels/blob/v0.4.1/R/mds_test.R" class="external-link"><code>R/mds_test.R</code></a></small>
      <div class="d-none name"><code>mds_test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a> Generate bootstrapped confidence intervals and permutation based null
distribution for MDS analysis. Output shows how much stress is reduced by
adding an additional dimension to the MDS analysis of <code>dissimilarity_matrix</code>,
and bootstrapped iterations of <code>dissimilarity_matrix</code>,
compared with the stress reduction expected from a matrix with no meaningful
structure. This function is inspired by <code><a href="pca_test.html">pca_test()</a></code>, but is less connected
with statistical literature than that function. We currently reject
additional dimensions is they reduce less stress than we would expect by
chance. That is, when the distribution from the boostrapped analyses sits
notably lower than the permuted distribution when plotted by <code><a href="plot_mds_test.html">plot_mds_test()</a></code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mds_test</span><span class="op">(</span></span>
<span>  <span class="va">dissimilarity_matrix</span>,</span>
<span>  n_boots <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  n_perms <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  test_dimensions <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  principal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mds_type <span class="op">=</span> <span class="st">"ordinal"</span>,</span>
<span>  spline_degree <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  spline_int_knots <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dissimilarity-matrix">dissimilarity_matrix<a class="anchor" aria-label="anchor" href="#arg-dissimilarity-matrix"></a></dt>
<dd><p>Square matrix of dissimilarity scores.</p></dd>


<dt id="arg-n-boots">n_boots<a class="anchor" aria-label="anchor" href="#arg-n-boots"></a></dt>
<dd><p>Number of bootstrapping iterations (default: 25).</p></dd>


<dt id="arg-n-perms">n_perms<a class="anchor" aria-label="anchor" href="#arg-n-perms"></a></dt>
<dd><p>Number of permutations (default: 25).</p></dd>


<dt id="arg-test-dimensions">test_dimensions<a class="anchor" aria-label="anchor" href="#arg-test-dimensions"></a></dt>
<dd><p>Number of MDS dimensions to test for stress reduction (default: 5).</p></dd>


<dt id="arg-principal">principal<a class="anchor" aria-label="anchor" href="#arg-principal"></a></dt>
<dd><p>Whether to apply principal axis transform to MDS (default: TRUE)</p></dd>


<dt id="arg-mds-type">mds_type<a class="anchor" aria-label="anchor" href="#arg-mds-type"></a></dt>
<dd><p>What kind of MDS to apply, see <code><a href="https://rdrr.io/pkg/smacof/man/smacofSym.html" class="external-link">smacof::smacofSym()</a></code> (default: 'ordinal')</p></dd>


<dt id="arg-spline-degree">spline_degree<a class="anchor" aria-label="anchor" href="#arg-spline-degree"></a></dt>
<dd><p>How many spline degrees when <code>type</code> is 'mspline' (default: 2)</p></dd>


<dt id="arg-spline-int-knots">spline_int_knots<a class="anchor" aria-label="anchor" href="#arg-spline-int-knots"></a></dt>
<dd><p>How many internal knots when <code>type</code> is 'mspline' (default: 2)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to <code><a href="https://rdrr.io/pkg/smacof/man/smacofSym.html" class="external-link">smacof::smacofSym()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>object of class <code>mds_test_results</code>, containing:</p><ul><li><p><code>$stress_reduction</code> a tibble containing</p></li>
<li><p><code>$n_boots</code> Number of bootstrapping iterations.</p></li>
<li><p><code>$n_perms</code> Number of permutation iterations</p></li>
<li><p><code>$mds_type</code> Type of MDS analysis (<code>type</code> argument passed to
<code><a href="https://rdrr.io/pkg/smacof/man/smacofSym.html" class="external-link">smacof::smacofSym()</a></code>)</p></li>
<li><p><code>$principal</code> Whether principal axis transformation is applied (passed to
<code><a href="https://rdrr.io/pkg/smacof/man/smacofSym.html" class="external-link">smacof::smacofSym()</a></code>)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Apply interval MDS to `sim_matrix`, with 5 permutations and bootstraps</span></span></span>
<span class="r-in"><span><span class="co"># testing up to 3 dimensions. In real usage, increase `n_boots` and `n_perms`</span></span></span>
<span class="r-in"><span><span class="co"># to at least 50.</span></span></span>
<span class="r-in"><span><span class="fu">mds_test</span><span class="op">(</span></span></span>
<span class="r-in"><span> <span class="fu">smacof</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/smacof/man/sim2diss.html" class="external-link">sim2diss</a></span><span class="op">(</span><span class="va">sim_matrix</span>, method<span class="op">=</span><span class="st">"reverse"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> n_boots <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span> n_perms <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span> test_dimensions <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span> mds_type <span class="op">=</span> <span class="st">'interval'</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $stress_reduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 33 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    source    dims stress_dist cumulative lag_stress  diff</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> permuted     1       0.539          1      1     0.461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> permuted     1       0.544          2      1     0.456</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> permuted     1       0.543          3      1     0.457</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> permuted     1       0.548          4      1     0.452</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> permuted     1       0.537          5      1     0.463</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> permuted     2       0.363          1      0.539 0.177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> permuted     2       0.368          2      0.544 0.175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> permuted     2       0.360          3      0.543 0.182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> permuted     2       0.363          4      0.548 0.184</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> permuted     2       0.360          5      0.537 0.177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 23 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_boots</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_perms</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mds_type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "interval"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $principal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mds_test_results"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Wilson Black, James Brand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

