<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Functions and Data For Vowel Covariation Studies • nzilbb.vowels</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><script src="deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Functions and Data For Vowel Covariation Studies">
<meta name="description" content="Data and functions to illustrate methods developed in recent studies Vowel covariation at the New Zealand Institute of Language, Brain, and Behaviour.">
<meta property="og:description" content="Data and functions to illustrate methods developed in recent studies Vowel covariation at the New Zealand Institute of Language, Brain, and Behaviour.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">nzilbb.vowels</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="nzilbbvowels-">nzilbb.vowels <a href="https://joshuawilsonblack.github.io/nzilbb_vowels/"><img src="reference/figures/logo.png" align="right" height="138" alt="nzilbb.vowels website"></a>
<a class="anchor" aria-label="anchor" href="#nzilbbvowels-"></a>
</h1></div>
<!-- badges: start -->

<p>This R package is designed to make it easier to carry out analysis of monophthong covariation.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of nzilbb.vowels from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"JoshuaWilsonBlack/nzilbb_vowels"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level3">
<h3 id="lobanov_2">
<code>lobanov_2</code><a class="anchor" aria-label="anchor" href="#lobanov_2"></a>
</h3>
<p>Apply Lobanov 2.0 normalisation as developed in Brand et al. (2021). This variant of Lobanov normalisation is designed to work for datasets whether the vowel types have different token counts from one another. The Lobanov 2.0 value for a vowel is given by:</p>
<p><span class="math display">\[F_{lobanov2.0_i} = \frac{F_{raw_i} - \mu(\mu_{vowel_1}, \ldots, \mu_{vowel_n})}{\sigma(\mu_{vowel_1}, \ldots, \mu_{vowel_n})}\]</span></p>
<p>Where, for ease of notation, we assume all values are from a single speaker. We signify the <span class="math inline">\(n\)</span> vowel types as <span class="math inline">\(vowel_1, \ldots, vowel_2\)</span>, while <span class="math inline">\(i\)</span> indicates the formant number. We implement the function for <span class="math inline">\(F_1\)</span> and <span class="math inline">\(F_2\)</span>.</p>
</div>
<div class="section level3">
<h3 id="pca_contrib_plot">
<code>pca_contrib_plot</code><a class="anchor" aria-label="anchor" href="#pca_contrib_plot"></a>
</h3>
<p>Take a PCA object produced by <code>prcomp</code> and plot a PC by the percentage contribution of the original variables to the PC. For instance:</p>
<p><img src="man/images/contrib_plot.png"></p>
<p>A cutoff value of 50% is given by default. This highlights the collection of highest-contribution variables which account for 50% of the PC in question. This can be turned off by setting <code>cutoff = NULL</code>.</p>
<p>The PC to plot is selected by the argument <code>pc_n</code>.</p>
</div>
<div class="section level3">
<h3 id="permutation_test">
<code>permutation_test</code><a class="anchor" aria-label="anchor" href="#permutation_test"></a>
</h3>
<p>This function runs a permutation test on a PCA analysis. Given data in a format acceptable by <code>prcomp</code> (a data frame with all numeric columns), the function repeats the analysis on <code>n</code> permutations of the data in each column. It returns an S3 object with attributes:</p>
<ul>
<li>
<code>$permuted_variances</code> <code>n</code> x <code>pc_no</code> matrix of variances explained by first <code>pc_no</code> PCs in <code>n</code> permutations of original data.</li>
<li>
<code>$permuted_correlations</code> list of length <code>n</code> of significant pairwise correlations in <code>n</code> permutations of the data (&lt;= 0.05).</li>
<li>
<code>$actual_variances</code> <code>pc_n</code> x 2 tibble of variances explained by first <code>pc_n</code> PCs with original data.</li>
<li>
<code>$actual_correlations</code> the number of significant pairwise correlations (&lt;= 0.05) in the original data.</li>
</ul>
</div>
<div class="section level3">
<h3 id="plot_permutation_test">
<code>plot_permutation_test</code><a class="anchor" aria-label="anchor" href="#plot_permutation_test"></a>
</h3>
<p>Plots the results of the permutation test. If argument <code>violin</code> is set to <code>FALSE</code>, then a the values for each permutation are connected with a line.</p>
<p>For instance: <img src="man/images/permutation_plot.png"></p>
<p>The plots for the number of significant correlations and for variance explained by each PC are joined together using the <code>patchwork</code> library.</p>
<p><em>In the near future, this will be turned into a generic plot for the <code>permutation_test</code> class</em></p>
</div>
<div class="section level3">
<h3 id="pca-vowel-space-visualisation">PCA Vowel Space Visualisation<a class="anchor" aria-label="anchor" href="#pca-vowel-space-visualisation"></a>
</h3>
<p><strong>TODO</strong></p>
</div>
<div class="section level3">
<h3 id="fit-per-vowel-models">Fit Per-Vowel Models<a class="anchor" aria-label="anchor" href="#fit-per-vowel-models"></a>
</h3>
<p><strong>TODO</strong></p>
</div>
<div class="section level3">
<h3 id="extract-by-speaker-intercepts">Extract By-Speaker Intercepts<a class="anchor" aria-label="anchor" href="#extract-by-speaker-intercepts"></a>
</h3>
<p><strong>TODO</strong></p>
</div>
</div>
<div class="section level2">
<h2 id="packaged-data">Packaged Data<a class="anchor" aria-label="anchor" href="#packaged-data"></a>
</h2>
<p>The package includes two pairs of datasets. One is designed to allow exploration of analysis in the style of Brand et al. (2021), the second is designed to follow the analysis of Wilson Black et al. (2022).</p>
<ol style="list-style-type: decimal">
<li>A sample of 100 speakers from ONZE.
<ul>
<li>
<code>onze_vowels</code>: the mean F1 and F2 values for 100 speakers in the ONZE corpus, with 50 born at or before 1920 and 50 after.</li>
<li>
<code>onze_intercepts</code>: random intercepts for the 100 speakers in <code>onze_means</code>. Intercepts generated by Brand et al. (2021).</li>
</ul>
</li>
<li>A sample of 77 speakers from QuakeBox, with 11 in each age category.
<ul>
<li>
<code>qb_vowels</code>: vowel tokens for speaker monologues after filtering to remove unstressed tokens, stop words, and outliers.</li>
<li>
<code>qb_intervals</code>: monologues divided into 60 and 240 second intervals for the same speakers as <code>qb_vowels</code>.</li>
</ul>
</li>
</ol>
<p>It is recommended to use these datasets in order to try out methods. We do not recommend that these are directly used for research. Full anonymised datasets are given in supplementary data for Brand et al. (2021) and Wilson Black et al. (under review). If you are interested in research on the basis of the ONZE or QuakeBox corpora, contact <a href="https://www.canterbury.ac.nz/nzilbb/" class="external-link">NZILBB</a>.</p>
</div>
<div class="section level2">
<h2 id="rstudio-addin">RStudio Addin<a class="anchor" aria-label="anchor" href="#rstudio-addin"></a>
</h2>
<p>It is often useful to have Wells lexical sets in small capitals in R Markdown documents. The way to achieve this manually is to add “<span class="smallcaps">vowel</span>”. This package includes an RStudio add in, which can be attached to a keyboard shortcut, to quickly include this code within an R Markdown document. For instance:</p>
<p><img src="man/images/addin.png"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nzilbb.vowels</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joshua Wilson Black <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/https://orcid.org/0000-0002-8272-5763" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>James Brand <br><small class="roles"> Author </small> <a href="https://orcid.org/https://orcid.org/0000-0002-2853-9169" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/JoshuaWilsonBlack/nzilbb_vowels/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/JoshuaWilsonBlack/nzilbb_vowels/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Wilson Black, James Brand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
